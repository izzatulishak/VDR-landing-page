import{cf as $,cg as j,ch as l,ci as p,aa as R,cj as A,ck as h,cl as I,cm as U}from"./index-J_1OuWkH.js";function V(r,o,t,c){if(o==null||c==null)return!1;const e=$(o,c);if((e==null?void 0:e.projector)==null)return!1;if(e.projector===j)return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3]),!0;const{source:s,dest:f,projector:m}=e;if(f.spatialReferenceId===3){const n=l[s.spatialReferenceId][2];if(n==null)return!1;n(p(r),0,d,0),A(d,0,a,0);const u=M(d[1],r[2],r[3],h.radius);return I(t,a,u),!0}if(s.spatialReferenceId!==2&&s.spatialReferenceId!==5||f.spatialReferenceId!==11){m(p(r),0,a,0);const n=s.metersPerUnit??1,u=f.metersPerUnit??1,i=r[3]*n/u;I(t,a,i)}else{const n=l[s.spatialReferenceId][1],u=l[1][11];let i=r[3];n!=null&&u!=null&&(i=M(r[1],r[2],r[3],h.radius)),m(p(r),0,a,0),I(t,a,i)}return!0}function M(r,o,t,c){const e=c+o;if(e<c/2||t>e)return Number.MAX_VALUE;const s=Math.abs(b*r)+Math.asin(t/e);return s>=Math.PI/2?Number.MAX_VALUE:t/Math.cos(s)}const d=R(),a=R(),b=U(1);export{V as l};
